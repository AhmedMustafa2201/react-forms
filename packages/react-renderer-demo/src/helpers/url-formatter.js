export const urlFormatter = (initPath) => {
  const env = process.env.NEXT_PUBLIC_VERCEL_ENV;
  const url = process.env.NEXT_PUBLIC_VERCEL_URL;
  const branchUrl = process.env.NEXT_PUBLIC_VERCEL_BRANCH_URL;

  const {
    NEXT_PUBLIC_VERCEL_GIT_REPO_SLUG,
    NEXT_PUBLIC_VERCEL_GIT_COMMIT_REF,
    NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA,
    NEXT_PUBLIC_VERCEL_GIT_PREVIOUS_SHA,
    NEXT_PUBLIC_VERCEL_GIT_COMMIT_AUTHOR_LOGIN,
    NEXT_PUBLIC_VERCEL_GIT_REPO_OWNER,
  } = process.env;
  console.log(`NEXT_PUBLIC_VERCEL_ENV= ${env}, NEXT_PUBLIC_VERCEL_URL= ${url}, NEXT_PUBLIC_VERCEL_BRANCH_URL= ${branchUrl}`);
  console.log(
    `VERCEL_GIT_REPO_SLUG= ${NEXT_PUBLIC_VERCEL_GIT_REPO_SLUG}, VERCEL_GIT_COMMIT_REF= ${NEXT_PUBLIC_VERCEL_GIT_COMMIT_REF}, VERCEL_GIT_COMMIT_SHA= ${NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA}, VERCEL_GIT_PREVIOUS_SHA= ${NEXT_PUBLIC_VERCEL_GIT_PREVIOUS_SHA}, VERCEL_GIT_COMMIT_AUTHOR_LOGIN= ${NEXT_PUBLIC_VERCEL_GIT_COMMIT_AUTHOR_LOGIN}, VERCEL_GIT_REPO_OWNER= ${NEXT_PUBLIC_VERCEL_GIT_REPO_OWNER}`
  );

  if (env === 'preview') {
    return `https://${branchUrl + initPath}`;
  }

  return `https://${url + initPath}`;
};
